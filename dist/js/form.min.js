"use strict";var inputAll=document.querySelectorAll("input, textarea, select"),btnSend=document.querySelector(".btn-send"),iconName=document.querySelector(".contact__icon-box-icon-box-name"),iconEmail=document.querySelector(".contact__icon-box-icon-box-email"),iconTel=document.querySelector(".contact__icon-box-icon-box-tel"),iconDescription=document.querySelector(".contact__icon-box-icon-box-description"),iconCategory=document.querySelector(".contact__icon-box-icon-box-category"),iconPrintLocation=document.querySelector(".contact__icon-box-icon-box-print-location"),iconIsArtwork=document.querySelector(".contact__icon-box-icon-box-is-artwork"),inputBoxFileSelect=document.querySelector(".input__box-file-select"),errorCount=0,clearState=function(t){var t=t.closest(".input__box"),e=t.querySelector(".input__label"),i=t.querySelector(".input__description"),c=i.querySelector(".input__description-icon");t.classList.remove("input__box--error"),e.classList.remove("input__label--error"),i.classList.remove("input__description--error"),i.classList.remove("input__description--success"),c.innerHTML='<i class="ti ti-exclamation-circle">'},showError=function(t){var t=t.closest(".input__box"),e=t.querySelector(".input__label"),i=t.querySelector(".input__description"),c=i.querySelector(".input__description-icon");t.classList.add("input__box--error"),e.classList.add("input__label--error"),i.classList.add("input__description--error"),i.classList.remove("input__description--success"),c.innerHTML='<i class="ti ti-circle-x">'},showSuccess=function(t){var t=t.closest(".input__box"),e=t.querySelector(".input__label"),i=t.querySelector(".input__description"),c=i.querySelector(".input__description-icon");t.classList.remove("input__box--error"),e.classList.remove("input__label--error"),i.classList.remove("input__description--error"),i.classList.add("input__description--success"),c.innerHTML='<i class="ti ti-circle-check">'},checkInput=function(t){"name"===t.id&&(t.value.length<3?(showError(t),errorCount+=1,iconName.classList.remove("contact__item-box-icon-box--active")):(showSuccess(t),iconName.classList.add("contact__item-box-icon-box--active"))),"email"===t.id&&(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/.test(t.value)?(showSuccess(t),iconEmail.classList.add("contact__item-box-icon-box--active")):(showError(t),errorCount+=1,iconEmail.classList.remove("contact__item-box-icon-box--active"))),"tel"===t.id&&(/^(\+48|0048)?[\s.-]?\(?\d{2}\)?[\s.-]?\d{3}[\s.-]?\d{3}[\s.-]?\d{3}$|^(\+48|0048)?[\s.-]?\d{3}[\s.-]?\d{3}[\s.-]?\d{3}$/.test(t.value)||""==t.value?(showSuccess(t),iconTel.classList.add("contact__item-box-icon-box--active")):(showError(t),errorCount+=1,iconTel.classList.remove("contact__item-box-icon-box--active")),0==t.value.length)&&(clearState(t),iconTel.classList.add("contact__item-box-icon-box--active")),"category"===t.id&&(0==t.value.trim().length?(showError(t),errorCount+=1,iconCategory.classList.remove("contact__item-box-icon-box--active")):(showSuccess(t),iconCategory.classList.add("contact__item-box-icon-box--active"))),"print-location"===t.id&&(0==t.value.trim().length?(showError(t),errorCount+=1,iconPrintLocation.classList.remove("contact__item-box-icon-box--active")):(showSuccess(t),iconPrintLocation.classList.add("contact__item-box-icon-box--active"))),"is-artwork"===t.id&&("none"==t.value?(showError(t),errorCount+=1,iconIsArtwork.classList.remove("contact__item-box-icon-box--active")):"with-artwork"==t.value?(showSuccess(t),iconIsArtwork.classList.add("contact__item-box-icon-box--active"),inputBoxFileSelect.classList.add("input__box-file-select--visible")):(showSuccess(t),iconIsArtwork.classList.add("contact__item-box-icon-box--active"),inputBoxFileSelect.classList.remove("input__box-file-select--visible"))),"description"===t.id&&(0==t.value.trim().length?(showError(t),errorCount+=1,iconDescription.classList.remove("contact__item-box-icon-box--active")):(showSuccess(t),iconDescription.classList.add("contact__item-box-icon-box--active")))},checkInputs=function(){errorCount=0,console.log("Resetted errorCount"),inputAll.forEach(function(t){checkInput(t)})},inputSelectFile=(inputAll.forEach(function(t){t.addEventListener("input",function(){checkInput(t)}),t.addEventListener("change",function(){checkInput(t)})}),btnSend.addEventListener("click",function(){var t;checkInputs(),console.log(errorCount),0==errorCount&&((t=document.querySelector(".contact__box--2")).style.height="".concat(t.offsetHeight,"px"),t.innerHTML='\n\t\t\t<div class="contact__success-box contact__success-box--visible">\n\t    \t    <p class="text__xl contact__success-box-icon"><i class="ti ti-checklist"></i></h1>\n\t    \t    <div class="contact__success-box-text-box">\n\t    \t        <p class="contact__success-box-title text__md">Formularz został pomyślnie wysłany</p>\n\t    \t        <p class="contact__success-box-subtitle">Skontaktujemy się z Tobą wkrótce</p>\n\t    \t    </div>\n\t    \t</div>\n\t\t')}),document.querySelector('input[type="file"]')),inputSelectFileLabel=document.querySelector(".input__file-select-label");inputSelectFile.addEventListener("change",function(){var t;0<inputSelectFile.files.length?(t=inputSelectFile.files[0]).type.startsWith("image/")?(inputSelectFileLabel.innerHTML='\n\t\t\t<img src="./dist/img/photo-check.min.svg" alt="File uploaded icon">\n\t\t\t<div class="input__file-select-text-box">\n\t\t\t    <p class="input__file-select-title">Pomyślnie przesłano plik</p>\n\t\t\t    <p class="input__file-select-subtitle"><span>'.concat(t.name,"</span></p>\n\t\t\t</div>\n\t\t\t"),inputSelectFileLabel.classList.add("input__file-select-label--uploaded")):(inputSelectFileLabel.innerHTML='\n\t\t\t<img src="./dist/img/photo-x.min.svg" alt="File upload failed icon">\n\t\t\t<div class="input__file-select-text-box">\n\t\t\t    <p class="input__file-select-title">Nie możesz przesłać tego rodzaju pliku</p>\n\t\t\t    <p class="input__file-select-subtitle">Akceptowane są wyłącznie <span>pliki graficzne</span></p>\n\t\t\t</div>\n\t\t\t',inputSelectFile.value="",inputSelectFileLabel.classList.remove("input__file-select-label--uploaded")):(inputSelectFileLabel.innerHTML='\n\t\t<img src="./dist/img/file-upload.min.svg" alt="File upload icon">\n\t\t<div class="input__file-select-text-box">\n\t\t    <p class="input__file-select-title">Przeciągnij i upuść grafikę tutaj</p>\n\t\t    <p class="input__file-select-subtitle">lub <span>przeglądaj</span> na swoim\n\t\t        urządzeniu</p>\n\t\t</div>\n\t\t',inputSelectFileLabel.classList.remove("input__file-select-label--uploaded"))}),inputSelectFileLabel.addEventListener("dragover",function(t){t.preventDefault(),t.stopPropagation(),inputSelectFileLabel.classList.add("input__file-select-label--hover")}),inputSelectFileLabel.addEventListener("dragleave",function(t){t.preventDefault(),t.stopPropagation(),inputSelectFileLabel.classList.remove("input__file-select-label--hover")}),inputSelectFileLabel.addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation(),inputSelectFileLabel.classList.remove("input__file-select-label--hover");var e,t=t.dataTransfer.files;0<t.length&&((t=t[0]).type.startsWith("image/")?((e=new DataTransfer).items.add(t),inputSelectFile.files=e.files,t=new Event("change"),inputSelectFile.dispatchEvent(t),inputSelectFileLabel.classList.add("input__file-select-label--uploaded")):(inputSelectFileLabel.innerHTML='\n\t\t\t<img src="./dist/img/photo-x.min.svg" alt="File upload failed icon">\n\t\t\t<div class="input__file-select-text-box">\n\t\t\t    <p class="input__file-select-title">Nie możesz przesłać tego rodzaju pliku</p>\n\t\t\t    <p class="input__file-select-subtitle">Akceptowane są wyłącznie <span>pliki graficzne</span></p>\n\t\t\t</div>\n\t\t\t',inputSelectFileLabel.classList.remove("input__file-select-label--uploaded")))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm0uanMiXSwibmFtZXMiOlsiaW5wdXRBbGwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidG5TZW5kIiwicXVlcnlTZWxlY3RvciIsImljb25OYW1lIiwiaWNvbkVtYWlsIiwiaWNvblRlbCIsImljb25QcmludExvY2F0aW9uIiwiZXJyb3JDb3VudCIsImlucHV0TGFiZWwiLCJpbnB1dEJveCIsInJlbW92ZSIsImlucHV0RGVzY3JpcHRpb24iLCJjbGVhclN0YXRlIiwiaW5wdXQiLCJzaG93RXJyb3IiLCJjbG9zZXN0IiwiY2xhc3NMaXN0IiwiaW5wdXREZXNjcmlwdGlvbkljb24iLCJpbm5lckhUTUwiLCJzaG93U3VjY2VzcyIsImNoZWNrSW5wdXQiLCJhZGQiLCJpZCIsInZhbHVlIiwiUmVnRXhUZWwiLCJ0ZXN0IiwidHJpbSIsImxlbmd0aCIsImljb25DYXRlZ29yeSIsImljb25Jc0FydHdvcmsiLCJpbnB1dEJveEZpbGVTZWxlY3QiLCJpY29uRGVzY3JpcHRpb24iLCJjb25zb2xlIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjaGVja0lucHV0cyIsImhlaWdodCIsImZvcm1Cb3giLCJzdGFydHNXaXRoIiwiaW5wdXRTZWxlY3RGaWxlTGFiZWwiLCJpbnB1dFNlbGVjdEZpbGUiLCJwcmV2ZW50RGVmYXVsdCIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJjb25jYXQiLCJmaWxlcyIsImZpbGUiLCJ0eXBlIiwibmFtZSIsImRhdGFUcmFuc2ZlciIsIkRhdGFUcmFuc2ZlciIsIml0ZW1zIiwiZXZlbnQiLCJFdmVudCIsImRpc3BhdGNoRXZlbnQiXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLFNBQVdDLFNBQVNDLGlCQUFpQix5QkFBeUIsRUFDOURDLFFBQVVGLFNBQVNHLGNBQWMsV0FBVyxFQUE1Q0QsU0FBVUYsU0FBU0csY0FBYyxrQ0FBWSxFQUU3Q0MsVUFBV0osU0FBU0csY0FBYyxtQ0FBbUMsRUFDckVFLFFBQVlMLFNBQVNH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Q2xCSixxQkFBcUJ2QixVQUFVTixPQUFPLGlDQUFpQyxDQUN4RSxDQUFDLEVBRUQ2QixxQkFBcUJMLGlCQUFpQixPQUFRLFNBQVVRLEdBQ3ZEQSxFQUFFRCxlQUFlLEVBQ2pCQyxFQUFFQyxnQkFBZ0IsRUFDbEJKLHFCQUFxQnZCLFVBQVVOLE9BQU8saUNBQWlDLEVBRXZFLElBSVF1QyxFQUpGSixFQUFRSCxFQUFFTyxhQUFhSixNQUNWLEVBQWZBLEVBQU1sQixVQUNIbUIsRUFBT0QsRUFBTSxJQUNWRSxLQUFLVCxXQUFXLFFBQVEsSUFDMUJXLEVBQWUsSUFBSUMsY0FDWkMsTUFBTTlCLElBQUl5QixDQUFJLEVBQzNCTixnQkFBZ0JLLE1BQVFJLEVBQWFKLE1BQy9CTyxFQUFRLElBQUlDLE1BQU0sUUFBUSxFQUNoQ2IsZ0JBQWdCYyxjQUFjRixDQUFLLEVBQ25DYixxQkFBcUJ2QixVQUFVSyxJQUFJLG9DQUFvQyxJQUV2RWtCLHFCQUFxQnJCLFVBQVMsNFZBTzlCcUIscUJBQXFCdkIsVUFBVU4sT0FDOUIsb0NBQ0QsR0FHSCxDQUFDIiwiZmlsZSI6ImZvcm0ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaW5wdXRBbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXQsIHRleHRhcmVhLCBzZWxlY3RcIik7XHJcbmNvbnN0IGJ0blNlbmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1zZW5kXCIpO1xyXG5cclxuY29uc3QgaWNvbk5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhY3RfX2ljb24tYm94LWljb24tYm94LW5hbWVcIik7XHJcbmNvbnN0IGljb25FbWFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFjdF9faWNvbi1ib3gtaWNvbi1ib3gtZW1haWxcIik7XHJcbmNvbnN0IGljb25UZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhY3RfX2ljb24tYm94LWljb24tYm94LXRlbFwiKTtcclxuY29uc3QgaWNvbkRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcIi5jb250YWN0X19pY29uLWJveC1pY29uLWJveC1kZXNjcmlwdGlvblwiXHJcbik7XHJcbmNvbnN0IGljb25DYXRlZ29yeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XCIuY29udGFjdF9faWNvbi1ib3gtaWNvbi1ib3gtY2F0ZWdvcnlcIlxyXG4pO1xyXG5jb25zdCBpY29uUHJpbnRMb2NhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XCIuY29udGFjdF9faWNvbi1ib3gtaWNvbi1ib3gtcHJpbnQtbG9jYXRpb25cIlxyXG4pO1xyXG5jb25zdCBpY29uSXNBcnR3b3JrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcIi5jb250YWN0X19pY29uLWJveC1pY29uLWJveC1pcy1hcnR3b3JrXCJcclxuKTtcclxuXHJcbmNvbnN0IGlucHV0Qm94RmlsZVNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW5wdXRfX2JveC1maWxlLXNlbGVjdFwiKTtcclxuXHJcbmxldCBlcnJvckNvdW50ID0gMDtcclxuXHJcbmNvbnN0IGNsZWFyU3RhdGUgPSAoaW5wdXQpID0+IHtcclxuXHRjb25zdCBpbnB1dEJveCA9IGlucHV0LmNsb3Nlc3QoXCIuaW5wdXRfX2JveFwiKTtcclxuXHRjb25zdCBpbnB1dExhYmVsID0gaW5wdXRCb3gucXVlcnlTZWxlY3RvcihcIi5pbnB1dF9fbGFiZWxcIik7XHJcblx0Y29uc3QgaW5wdXREZXNjcmlwdGlvbiA9IGlucHV0Qm94LnF1ZXJ5U2VsZWN0b3IoXCIuaW5wdXRfX2Rlc2NyaXB0aW9uXCIpO1xyXG5cdGNvbnN0IGlucHV0RGVzY3JpcHRpb25JY29uID0gaW5wdXREZXNjcmlwdGlvbi5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0XCIuaW5wdXRfX2Rlc2NyaXB0aW9uLWljb25cIlxyXG5cdCk7XHJcblxyXG5cdGlucHV0Qm94LmNsYXNzTGlzdC5yZW1vdmUoXCJpbnB1dF9fYm94LS1lcnJvclwiKTtcclxuXHRpbnB1dExhYmVsLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnB1dF9fbGFiZWwtLWVycm9yXCIpO1xyXG5cdGlucHV0RGVzY3JpcHRpb24uY2xhc3NMaXN0LnJlbW92ZShcImlucHV0X19kZXNjcmlwdGlvbi0tZXJyb3JcIik7XHJcblx0aW5wdXREZXNjcmlwdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwiaW5wdXRfX2Rlc2NyaXB0aW9uLS1zdWNjZXNzXCIpO1xyXG5cdGlucHV0RGVzY3JpcHRpb25JY29uLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cInRpIHRpLWV4Y2xhbWF0aW9uLWNpcmNsZVwiPmA7XHJcbn07XHJcblxyXG5jb25zdCBzaG93RXJyb3IgPSAoaW5wdXQpID0+IHtcclxuXHRjb25zdCBpbnB1dEJveCA9IGlucHV0LmNsb3Nlc3QoXCIuaW5wdXRfX2JveFwiKTtcclxuXHRjb25zdCBpbnB1dExhYmVsID0gaW5wdXRCb3gucXVlcnlTZWxlY3RvcihcIi5pbnB1dF9fbGFiZWxcIik7XHJcblx0Y29uc3QgaW5wdXREZXNjcmlwdGlvbiA9IGlucHV0Qm94LnF1ZXJ5U2VsZWN0b3IoXCIuaW5wdXRfX2Rlc2NyaXB0aW9uXCIpO1xyXG5cdGNvbnN0IGlucHV0RGVzY3JpcHRpb25JY29uID0gaW5wdXREZXNjcmlwdGlvbi5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0XCIuaW5wdXRfX2Rlc2NyaXB0aW9uLWljb25cIlxyXG5cdCk7XHJcblxyXG5cdGlucHV0Qm94LmNsYXNzTGlzdC5hZGQoXCJpbnB1dF9fYm94LS1lcnJvclwiKTtcclxuXHRpbnB1dExhYmVsLmNsYXNzTGlzdC5hZGQoXCJpbnB1dF9fbGFiZWwtLWVycm9yXCIpO1xyXG5cdGlucHV0RGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZChcImlucHV0X19kZXNjcmlwdGlvbi0tZXJyb3JcIik7XHJcblx0aW5wdXREZXNjcmlwdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwiaW5wdXRfX2Rlc2NyaXB0aW9uLS1zdWNjZXNzXCIpO1xyXG5cdGlucHV0RGVzY3JpcHRpb25JY29uLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cInRpIHRpLWNpcmNsZS14XCI+YDtcclxufTtcclxuXHJcbmNvbnN0IHNob3dTdWNjZXNzID0gKGlucHV0KSA9PiB7XHJcblx0Y29uc3QgaW5wdXRCb3ggPSBpbnB1dC5jbG9zZXN0KFwiLmlucHV0X19ib3hcIik7XHJcblx0Y29uc3QgaW5wdXRMYWJlbCA9IGlucHV0Qm94LnF1ZXJ5U2VsZWN0b3IoXCIuaW5wdXRfX2xhYmVsXCIpO1xyXG5cdGNvbnN0IGlucHV0RGVzY3JpcHRpb24gPSBpbnB1dEJveC5xdWVyeVNlbGVjdG9yKFwiLmlucHV0X19kZXNjcmlwdGlvblwiKTtcclxuXHRjb25zdCBpbnB1dERlc2NyaXB0aW9uSWNvbiA9IGlucHV0RGVzY3JpcHRpb24ucXVlcnlTZWxlY3RvcihcclxuXHRcdFwiLmlucHV0X19kZXNjcmlwdGlvbi1pY29uXCJcclxuXHQpO1xyXG5cclxuXHRpbnB1dEJveC5jbGFzc0xpc3QucmVtb3ZlKFwiaW5wdXRfX2JveC0tZXJyb3JcIik7XHJcblx0aW5wdXRMYWJlbC5jbGFzc0xpc3QucmVtb3ZlKFwiaW5wdXRfX2xhYmVsLS1lcnJvclwiKTtcclxuXHRpbnB1dERlc2NyaXB0aW9uLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnB1dF9fZGVzY3JpcHRpb24tLWVycm9yXCIpO1xyXG5cdGlucHV0RGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZChcImlucHV0X19kZXNjcmlwdGlvbi0tc3VjY2Vzc1wiKTtcclxuXHRpbnB1dERlc2NyaXB0aW9uSWNvbi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJ0aSB0aS1jaXJjbGUtY2hlY2tcIj5gO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tJbnB1dCA9IChpbnB1dCkgPT4ge1xyXG5cdGlmIChpbnB1dC5pZCA9PT0gXCJuYW1lXCIpIHtcclxuXHRcdGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPCAzKSB7XHJcblx0XHRcdHNob3dFcnJvcihpbnB1dCk7XHJcblx0XHRcdGVycm9yQ291bnQgKz0gMTtcclxuXHRcdFx0aWNvbk5hbWUuY2xhc3NMaXN0LnJlbW92ZShcImNvbnRhY3RfX2l0ZW0tYm94LWljb24tYm94LS1hY3RpdmVcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzaG93U3VjY2VzcyhpbnB1dCk7XHJcblx0XHRcdGljb25OYW1lLmNsYXNzTGlzdC5hZGQoXCJjb250YWN0X19pdGVtLWJveC1pY29uLWJveC0tYWN0aXZlXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKGlucHV0LmlkID09PSBcImVtYWlsXCIpIHtcclxuXHRcdGNvbnN0IFJlZ0V4RW1haWwgPVxyXG5cdFx0XHQvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8LihcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLDN9KSkkLztcclxuXHJcblx0XHRpZiAoIVJlZ0V4RW1haWwudGVzdChpbnB1dC52YWx1ZSkpIHtcclxuXHRcdFx0c2hvd0Vycm9yKGlucHV0KTtcclxuXHRcdFx0ZXJyb3JDb3VudCArPSAxO1xyXG5cdFx0XHRpY29uRW1haWwuY2xhc3NMaXN0LnJlbW92ZShcImNvbnRhY3RfX2l0ZW0tYm94LWljb24tYm94LS1hY3RpdmVcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzaG93U3VjY2VzcyhpbnB1dCk7XHJcblx0XHRcdGljb25FbWFpbC5jbGFzc0xpc3QuYWRkKFwiY29udGFjdF9faXRlbS1ib3gtaWNvbi1ib3gtLWFjdGl2ZVwiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGlmIChpbnB1dC5pZCA9PT0gXCJ0ZWxcIikge1xyXG5cdFx0Y29uc3QgUmVnRXhUZWwgPVxyXG5cdFx0XHQvXihcXCs0OHwwMDQ4KT9bXFxzLi1dP1xcKD9cXGR7Mn1cXCk/W1xccy4tXT9cXGR7M31bXFxzLi1dP1xcZHszfVtcXHMuLV0/XFxkezN9JHxeKFxcKzQ4fDAwNDgpP1tcXHMuLV0/XFxkezN9W1xccy4tXT9cXGR7M31bXFxzLi1dP1xcZHszfSQvO1xyXG5cclxuXHRcdGlmICghUmVnRXhUZWwudGVzdChpbnB1dC52YWx1ZSkgJiYgaW5wdXQudmFsdWUgIT0gXCJcIikge1xyXG5cdFx0XHRzaG93RXJyb3IoaW5wdXQpO1xyXG5cdFx0XHRlcnJvckNvdW50ICs9IDE7XHJcblx0XHRcdGljb25UZWwuY2xhc3NMaXN0LnJlbW92ZShcImNvbnRhY3RfX2l0ZW0tYm94LWljb24tYm94LS1hY3RpdmVcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzaG93U3VjY2VzcyhpbnB1dCk7XHJcblx0XHRcdGljb25UZWwuY2xhc3NMaXN0LmFkZChcImNvbnRhY3RfX2l0ZW0tYm94LWljb24tYm94LS1hY3RpdmVcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlucHV0LnZhbHVlLmxlbmd0aCA9PSAwKSB7XHJcblx0XHRcdGNsZWFyU3RhdGUoaW5wdXQpO1xyXG5cdFx0XHRpY29uVGVsLmNsYXNzTGlzdC5hZGQoXCJjb250YWN0X19pdGVtLWJveC1pY29uLWJveC0tYWN0aXZlXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKGlucHV0LmlkID09PSBcImNhdGVnb3J5XCIpIHtcclxuXHRcdGlmIChpbnB1dC52YWx1ZS50cmltKCkubGVuZ3RoID09IDApIHtcclxuXHRcdFx0c2hvd0Vycm9yKGlucHV0KTtcclxuXHRcdFx0ZXJyb3JDb3VudCArPSAxO1xyXG5cdFx0XHRpY29uQ2F0ZWdvcnkuY2xhc3NMaXN0LnJlbW92ZShcImNvbnRhY3RfX2l0ZW0tYm94LWljb24tYm94LS1hY3RpdmVcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzaG93U3VjY2VzcyhpbnB1dCk7XHJcblx0XHRcdGljb25DYXRlZ29yeS5jbGFzc0xpc3QuYWRkKFwiY29udGFjdF9faXRlbS1ib3gtaWNvbi1ib3gtLWFjdGl2ZVwiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGlmIChpbnB1dC5pZCA9PT0gXCJwcmludC1sb2NhdGlvblwiKSB7XHJcblx0XHRpZiAoaW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PSAwKSB7XHJcblx0XHRcdHNob3dFcnJvcihpbnB1dCk7XHJcblx0XHRcdGVycm9yQ291bnQgKz0gMTtcclxuXHRcdFx0aWNvblByaW50TG9jYXRpb24uY2xhc3NMaXN0LnJlbW92ZShcImNvbnRhY3RfX2l0ZW0tYm94LWljb24tYm94LS1hY3RpdmVcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzaG93U3VjY2VzcyhpbnB1dCk7XHJcblx0XHRcdGljb25QcmludExvY2F0aW9uLmNsYXNzTGlzdC5hZGQoXCJjb250YWN0X19pdGVtLWJveC1pY29uLWJveC0tYWN0aXZlXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKGlucHV0LmlkID09PSBcImlzLWFydHdvcmtcIikge1xyXG5cdFx0aWYgKGlucHV0LnZhbHVlID09IFwibm9uZVwiKSB7XHJcblx0XHRcdHNob3dFcnJvcihpbnB1dCk7XHJcblx0XHRcdGVycm9yQ291bnQgKz0gMTtcclxuXHRcdFx0aWNvbklzQXJ0d29yay5jbGFzc0xpc3QucmVtb3ZlKFwiY29udGFjdF9faXRlbS1ib3gtaWNvbi1ib3gtLWFjdGl2ZVwiKTtcclxuXHRcdH0gZWxzZSBpZiAoaW5wdXQudmFsdWUgPT0gXCJ3aXRoLWFydHdvcmtcIikge1xyXG5cdFx0XHRzaG93U3VjY2VzcyhpbnB1dCk7XHJcblx0XHRcdGljb25Jc0FydHdvcmsuY2xhc3NMaXN0LmFkZChcImNvbnRhY3RfX2l0ZW0tYm94LWljb24tYm94LS1hY3RpdmVcIik7XHJcblx0XHRcdGlucHV0Qm94RmlsZVNlbGVjdC5jbGFzc0xpc3QuYWRkKFwiaW5wdXRfX2JveC1maWxlLXNlbGVjdC0tdmlzaWJsZVwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHNob3dTdWNjZXNzKGlucHV0KTtcclxuXHRcdFx0aWNvbklzQXJ0d29yay5jbGFzc0xpc3QuYWRkKFwiY29udGFjdF9faXRlbS1ib3gtaWNvbi1ib3gtLWFjdGl2ZVwiKTtcclxuXHRcdFx0aW5wdXRCb3hGaWxlU2VsZWN0LmNsYXNzTGlzdC5yZW1vdmUoXCJpbnB1dF9fYm94LWZpbGUtc2VsZWN0LS12aXNpYmxlXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKGlucHV0LmlkID09PSBcImRlc2NyaXB0aW9uXCIpIHtcclxuXHRcdGlmIChpbnB1dC52YWx1ZS50cmltKCkubGVuZ3RoID09IDApIHtcclxuXHRcdFx0c2hvd0Vycm9yKGlucHV0KTtcclxuXHRcdFx0ZXJyb3JDb3VudCArPSAxO1xyXG5cdFx0XHRpY29uRGVzY3JpcHRpb24uY2xhc3NMaXN0LnJlbW92ZShcImNvbnRhY3RfX2l0ZW0tYm94LWljb24tYm94LS1hY3RpdmVcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzaG93U3VjY2VzcyhpbnB1dCk7XHJcblx0XHRcdGljb25EZXNjcmlwdGlvbi5jbGFzc0xpc3QuYWRkKFwiY29udGFjdF9faXRlbS1ib3gtaWNvbi1ib3gtLWFjdGl2ZVwiKTtcclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0lucHV0cyA9ICgpID0+IHtcclxuXHRlcnJvckNvdW50ID0gMDtcclxuXHRjb25zb2xlLmxvZyhcIlJlc2V0dGVkIGVycm9yQ291bnRcIik7XHJcblxyXG5cdGlucHV0QWxsLmZvckVhY2goKGlucHV0KSA9PiB7XHJcblx0XHRjaGVja0lucHV0KGlucHV0KTtcclxuXHR9KTtcclxufTtcclxuXHJcbmlucHV0QWxsLmZvckVhY2goKGlucHV0KSA9PiB7XHJcblx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuXHRcdGNoZWNrSW5wdXQoaW5wdXQpO1xyXG5cdH0pO1xyXG5cclxuXHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcclxuXHRcdGNoZWNrSW5wdXQoaW5wdXQpO1xyXG5cdH0pO1xyXG59KTtcclxuXHJcbmJ0blNlbmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRjaGVja0lucHV0cygpO1xyXG5cclxuXHQvL0RvIGZpeGEgdG8gd3lzeWxhbmllIGZvcm11bGFyemFcclxuXHRjb25zb2xlLmxvZyhlcnJvckNvdW50KTtcclxuXHRpZiAoZXJyb3JDb3VudCA9PSAwKSB7XHJcblx0XHRjb25zdCBmb3JtQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWN0X19ib3gtLTJcIik7XHJcblx0XHRmb3JtQm94LnN0eWxlLmhlaWdodCA9IGAke2Zvcm1Cb3gub2Zmc2V0SGVpZ2h0fXB4YDtcclxuXHJcblx0XHRmb3JtQm94LmlubmVySFRNTCA9IGBcclxuXHRcdFx0PGRpdiBjbGFzcz1cImNvbnRhY3RfX3N1Y2Nlc3MtYm94IGNvbnRhY3RfX3N1Y2Nlc3MtYm94LS12aXNpYmxlXCI+XHJcblx0ICAgIFx0ICAgIDxwIGNsYXNzPVwidGV4dF9feGwgY29udGFjdF9fc3VjY2Vzcy1ib3gtaWNvblwiPjxpIGNsYXNzPVwidGkgdGktY2hlY2tsaXN0XCI+PC9pPjwvaDE+XHJcblx0ICAgIFx0ICAgIDxkaXYgY2xhc3M9XCJjb250YWN0X19zdWNjZXNzLWJveC10ZXh0LWJveFwiPlxyXG5cdCAgICBcdCAgICAgICAgPHAgY2xhc3M9XCJjb250YWN0X19zdWNjZXNzLWJveC10aXRsZSB0ZXh0X19tZFwiPkZvcm11bGFyeiB6b3N0YcWCIHBvbXnFm2xuaWUgd3lzxYJhbnk8L3A+XHJcblx0ICAgIFx0ICAgICAgICA8cCBjbGFzcz1cImNvbnRhY3RfX3N1Y2Nlc3MtYm94LXN1YnRpdGxlXCI+U2tvbnRha3R1amVteSBzacSZIHogVG9ixIUgd2tyw7N0Y2U8L3A+XHJcblx0ICAgIFx0ICAgIDwvZGl2PlxyXG5cdCAgICBcdDwvZGl2PlxyXG5cdFx0YDtcclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gSW5wdXQgU2VsZWN0IEZpbGVcclxuXHJcbmNvbnN0IGlucHV0U2VsZWN0RmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJmaWxlXCJdJyk7XHJcbmNvbnN0IGlucHV0U2VsZWN0RmlsZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcIi5pbnB1dF9fZmlsZS1zZWxlY3QtbGFiZWxcIlxyXG4pO1xyXG5cclxuaW5wdXRTZWxlY3RGaWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xyXG5cdGlmIChpbnB1dFNlbGVjdEZpbGUuZmlsZXMubGVuZ3RoID4gMCkge1xyXG5cdFx0Y29uc3QgZmlsZSA9IGlucHV0U2VsZWN0RmlsZS5maWxlc1swXTtcclxuXHRcdGlmIChmaWxlLnR5cGUuc3RhcnRzV2l0aChcImltYWdlL1wiKSkge1xyXG5cdFx0XHRpbnB1dFNlbGVjdEZpbGVMYWJlbC5pbm5lckhUTUwgPSBgXHJcblx0XHRcdDxpbWcgc3JjPVwiLi9kaXN0L2ltZy9waG90by1jaGVjay5taW4uc3ZnXCIgYWx0PVwiRmlsZSB1cGxvYWRlZCBpY29uXCI+XHJcblx0XHRcdDxkaXYgY2xhc3M9XCJpbnB1dF9fZmlsZS1zZWxlY3QtdGV4dC1ib3hcIj5cclxuXHRcdFx0ICAgIDxwIGNsYXNzPVwiaW5wdXRfX2ZpbGUtc2VsZWN0LXRpdGxlXCI+UG9tecWbbG5pZSBwcnplc8WCYW5vIHBsaWs8L3A+XHJcblx0XHRcdCAgICA8cCBjbGFzcz1cImlucHV0X19maWxlLXNlbGVjdC1zdWJ0aXRsZVwiPjxzcGFuPiR7ZmlsZS5uYW1lfTwvc3Bhbj48L3A+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0XHRgO1xyXG5cdFx0XHRpbnB1dFNlbGVjdEZpbGVMYWJlbC5jbGFzc0xpc3QuYWRkKFwiaW5wdXRfX2ZpbGUtc2VsZWN0LWxhYmVsLS11cGxvYWRlZFwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlucHV0U2VsZWN0RmlsZUxhYmVsLmlubmVySFRNTCA9IGBcclxuXHRcdFx0PGltZyBzcmM9XCIuL2Rpc3QvaW1nL3Bob3RvLXgubWluLnN2Z1wiIGFsdD1cIkZpbGUgdXBsb2FkIGZhaWxlZCBpY29uXCI+XHJcblx0XHRcdDxkaXYgY2xhc3M9XCJpbnB1dF9fZmlsZS1zZWxlY3QtdGV4dC1ib3hcIj5cclxuXHRcdFx0ICAgIDxwIGNsYXNzPVwiaW5wdXRfX2ZpbGUtc2VsZWN0LXRpdGxlXCI+TmllIG1vxbxlc3ogcHJ6ZXPFgmHEhyB0ZWdvIHJvZHphanUgcGxpa3U8L3A+XHJcblx0XHRcdCAgICA8cCBjbGFzcz1cImlucHV0X19maWxlLXNlbGVjdC1zdWJ0aXRsZVwiPkFrY2VwdG93YW5lIHPEhSB3ecWCxIVjem5pZSA8c3Bhbj5wbGlraSBncmFmaWN6bmU8L3NwYW4+PC9wPlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdFx0YDtcclxuXHRcdFx0aW5wdXRTZWxlY3RGaWxlLnZhbHVlID0gXCJcIjtcclxuXHRcdFx0aW5wdXRTZWxlY3RGaWxlTGFiZWwuY2xhc3NMaXN0LnJlbW92ZShcclxuXHRcdFx0XHRcImlucHV0X19maWxlLXNlbGVjdC1sYWJlbC0tdXBsb2FkZWRcIlxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSB7XHJcblx0XHRpbnB1dFNlbGVjdEZpbGVMYWJlbC5pbm5lckhUTUwgPSBgXHJcblx0XHQ8aW1nIHNyYz1cIi4vZGlzdC9pbWcvZmlsZS11cGxvYWQubWluLnN2Z1wiIGFsdD1cIkZpbGUgdXBsb2FkIGljb25cIj5cclxuXHRcdDxkaXYgY2xhc3M9XCJpbnB1dF9fZmlsZS1zZWxlY3QtdGV4dC1ib3hcIj5cclxuXHRcdCAgICA8cCBjbGFzcz1cImlucHV0X19maWxlLXNlbGVjdC10aXRsZVwiPlByemVjacSFZ25paiBpIHVwdcWbxIcgZ3JhZmlrxJkgdHV0YWo8L3A+XHJcblx0XHQgICAgPHAgY2xhc3M9XCJpbnB1dF9fZmlsZS1zZWxlY3Qtc3VidGl0bGVcIj5sdWIgPHNwYW4+cHJ6ZWdsxIVkYWo8L3NwYW4+IG5hIHN3b2ltXHJcblx0XHQgICAgICAgIHVyesSFZHplbml1PC9wPlxyXG5cdFx0PC9kaXY+XHJcblx0XHRgO1xyXG5cdFx0aW5wdXRTZWxlY3RGaWxlTGFiZWwuY2xhc3NMaXN0LnJlbW92ZShcImlucHV0X19maWxlLXNlbGVjdC1sYWJlbC0tdXBsb2FkZWRcIik7XHJcblx0fVxyXG59KTtcclxuXHJcbmlucHV0U2VsZWN0RmlsZUxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCBmdW5jdGlvbiAoZSkge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdGlucHV0U2VsZWN0RmlsZUxhYmVsLmNsYXNzTGlzdC5hZGQoXCJpbnB1dF9fZmlsZS1zZWxlY3QtbGFiZWwtLWhvdmVyXCIpO1xyXG59KTtcclxuXHJcbmlucHV0U2VsZWN0RmlsZUxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnbGVhdmVcIiwgZnVuY3Rpb24gKGUpIHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRpbnB1dFNlbGVjdEZpbGVMYWJlbC5jbGFzc0xpc3QucmVtb3ZlKFwiaW5wdXRfX2ZpbGUtc2VsZWN0LWxhYmVsLS1ob3ZlclwiKTtcclxufSk7XHJcblxyXG5pbnB1dFNlbGVjdEZpbGVMYWJlbC5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCBmdW5jdGlvbiAoZSkge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdGlucHV0U2VsZWN0RmlsZUxhYmVsLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnB1dF9fZmlsZS1zZWxlY3QtbGFiZWwtLWhvdmVyXCIpO1xyXG5cclxuXHRjb25zdCBmaWxlcyA9IGUuZGF0YVRyYW5zZmVyLmZpbGVzO1xyXG5cdGlmIChmaWxlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRjb25zdCBmaWxlID0gZmlsZXNbMF07XHJcblx0XHRpZiAoZmlsZS50eXBlLnN0YXJ0c1dpdGgoXCJpbWFnZS9cIikpIHtcclxuXHRcdFx0Y29uc3QgZGF0YVRyYW5zZmVyID0gbmV3IERhdGFUcmFuc2ZlcigpO1xyXG5cdFx0XHRkYXRhVHJhbnNmZXIuaXRlbXMuYWRkKGZpbGUpO1xyXG5cdFx0XHRpbnB1dFNlbGVjdEZpbGUuZmlsZXMgPSBkYXRhVHJhbnNmZXIuZmlsZXM7XHJcblx0XHRcdGNvbnN0IGV2ZW50ID0gbmV3IEV2ZW50KFwiY2hhbmdlXCIpO1xyXG5cdFx0XHRpbnB1dFNlbGVjdEZpbGUuZGlzcGF0Y2hFdmVudChldmVudCk7XHJcblx0XHRcdGlucHV0U2VsZWN0RmlsZUxhYmVsLmNsYXNzTGlzdC5hZGQoXCJpbnB1dF9fZmlsZS1zZWxlY3QtbGFiZWwtLXVwbG9hZGVkXCIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aW5wdXRTZWxlY3RGaWxlTGFiZWwuaW5uZXJIVE1MID0gYFxyXG5cdFx0XHQ8aW1nIHNyYz1cIi4vZGlzdC9pbWcvcGhvdG8teC5taW4uc3ZnXCIgYWx0PVwiRmlsZSB1cGxvYWQgZmFpbGVkIGljb25cIj5cclxuXHRcdFx0PGRpdiBjbGFzcz1cImlucHV0X19maWxlLXNlbGVjdC10ZXh0LWJveFwiPlxyXG5cdFx0XHQgICAgPHAgY2xhc3M9XCJpbnB1dF9fZmlsZS1zZWxlY3QtdGl0bGVcIj5OaWUgbW/FvGVzeiBwcnplc8WCYcSHIHRlZ28gcm9kemFqdSBwbGlrdTwvcD5cclxuXHRcdFx0ICAgIDxwIGNsYXNzPVwiaW5wdXRfX2ZpbGUtc2VsZWN0LXN1YnRpdGxlXCI+QWtjZXB0b3dhbmUgc8SFIHd5xYLEhWN6bmllIDxzcGFuPnBsaWtpIGdyYWZpY3puZTwvc3Bhbj48L3A+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0XHRgO1xyXG5cdFx0XHRpbnB1dFNlbGVjdEZpbGVMYWJlbC5jbGFzc0xpc3QucmVtb3ZlKFxyXG5cdFx0XHRcdFwiaW5wdXRfX2ZpbGUtc2VsZWN0LWxhYmVsLS11cGxvYWRlZFwiXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuIl19
