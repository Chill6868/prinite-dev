"use strict";var inputAll=document.querySelectorAll("input, textarea"),btnSend=document.querySelector(".btn-send"),IconName=document.querySelector(".contact__icon-box-icon-box-name"),IconEmail=document.querySelector(".contact__icon-box-icon-box-email"),IconTel=document.querySelector(".contact__icon-box-icon-box-tel"),IconDescription=document.querySelector(".contact__icon-box-icon-box-description"),errorCount=0,clearState=function(e){var e=e.closest(".input__box"),t=e.querySelector(".input__label"),i=e.querySelector(".input__description"),c=i.querySelector(".input__description-icon");e.classList.remove("input__box--error"),t.classList.remove("input__label--error"),i.classList.remove("input__description--error"),i.classList.remove("input__description--success"),c.innerHTML='<i class="ti ti-exclamation-circle">'},showError=function(e){var e=e.closest(".input__box"),t=e.querySelector(".input__label"),i=e.querySelector(".input__description"),c=i.querySelector(".input__description-icon");e.classList.add("input__box--error"),t.classList.add("input__label--error"),i.classList.add("input__description--error"),i.classList.remove("input__description--success"),c.innerHTML='<i class="ti ti-circle-x">'},showSuccess=function(e){var e=e.closest(".input__box"),t=e.querySelector(".input__label"),i=e.querySelector(".input__description"),c=i.querySelector(".input__description-icon");e.classList.remove("input__box--error"),t.classList.remove("input__label--error"),i.classList.remove("input__description--error"),i.classList.add("input__description--success"),c.innerHTML='<i class="ti ti-circle-check">'},checkInput=function(e){"name"===e.id&&(e.value.length<3?(showError(e),errorCount=1,IconName.classList.remove("contact__item-box-icon-box--active")):(showSuccess(e),errorCount=0,IconName.classList.add("contact__item-box-icon-box--active"))),"email"===e.id&&(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/.test(e.value)?(showSuccess(e),errorCount=0,IconEmail.classList.add("contact__item-box-icon-box--active")):(showError(e),errorCount=1,IconEmail.classList.remove("contact__item-box-icon-box--active"))),"tel"===e.id&&(/^(\+48|0048)?[\s.-]?\(?\d{2}\)?[\s.-]?\d{3}[\s.-]?\d{3}[\s.-]?\d{3}$|^(\+48|0048)?[\s.-]?\d{3}[\s.-]?\d{3}[\s.-]?\d{3}$/.test(e.value)?(showSuccess(e),errorCount=0,IconTel.classList.add("contact__item-box-icon-box--active")):(showError(e),errorCount=1,IconTel.classList.remove("contact__item-box-icon-box--active")),0==e.value.length)&&(clearState(e),errorCount=0,IconTel.classList.add("contact__item-box-icon-box--active")),"description"===e.id&&(0==e.value.trim().length?(showError(e),errorCount=1,IconDescription.classList.remove("contact__item-box-icon-box--active")):(showSuccess(e),errorCount=0,IconDescription.classList.add("contact__item-box-icon-box--active")))},inputSelectFile=(inputAll.forEach(function(e){e.addEventListener("input",function(){checkInput(e)})}),btnSend.addEventListener("click",function(){inputAll.forEach(function(e){checkInput(e)})}),document.querySelector('input[type="file"]')),inputSelectFileLabel=document.querySelector(".input__file-select-label");inputSelectFile.addEventListener("change",function(){var e;0<inputSelectFile.files.length?(e=inputSelectFile.files[0]).type.startsWith("image/")?(inputSelectFileLabel.textContent=e.name,inputSelectFileLabel.classList.add("input__file-select-label--uploaded")):(inputSelectFileLabel.textContent="Wybierz plik (tylko obrazy)",inputSelectFile.value="",inputSelectFileLabel.classList.remove("input__file-select-label--uploaded")):(inputSelectFileLabel.textContent="Wybierz plik",inputSelectFileLabel.classList.remove("input__file-select-label--uploaded"))}),inputSelectFileLabel.addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation(),inputSelectFileLabel.classList.add("input__file-select-label--hover")}),inputSelectFileLabel.addEventListener("dragleave",function(e){e.preventDefault(),e.stopPropagation(),inputSelectFileLabel.classList.remove("input__file-select-label--hover")}),inputSelectFileLabel.addEventListener("drop",function(e){e.preventDefault(),e.stopPropagation(),inputSelectFileLabel.classList.remove("input__file-select-label--hover");var t,e=e.dataTransfer.files;0<e.length&&((e=e[0]).type.startsWith("image/")?((t=new DataTransfer).items.add(e),inputSelectFile.files=t.files,e=new Event("change"),inputSelectFile.dispatchEvent(e),inputSelectFileLabel.classList.add("input__file-select-label--uploaded")):(inputSelectFileLabel.textContent="Wybierz plik (tylko obrazy)",inputSelectFileLabel.classList.remove("input__file-select-label--uploaded")))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm0uanMiXSwibmFtZXMiOlsiaW5wdXRBbGwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidG5TZW5kIiwicXVlcnlTZWxlY3RvciIsIkljb25OYW1lIiwiSWNvbkVtYWlsIiwiSWNvblRlbCIsImVycm9yQ291bnQiLCJpbnB1dCIsImlucHV0RGVzY3JpcHRpb24iLCJpbnB1dERlc2NyaXB0aW9uSWNvbiIsImlucHV0Qm94IiwiaW5wdXRMYWJlbCIsInJlbW92ZSIsInNob3dFcnJvciIsImNsb3Nlc3QiLCJjbGFzc0xpc3QiLCJpbm5lckhUTUwiLCJzaG93U3VjY2VzcyIsImFkZCIsImNoZWNrSW5wdXQiLCJsZW5ndGgiLCJpZCIsInRlc3QiLCJ2YWx1ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJJY29uRGVzY3JpcHRpb24iLCJmb3JFYWNoIiwidHJpbSIsImlucHV0U2VsZWN0RmlsZSIsImlucHV0U2VsZWN0RmlsZUxhYmVsIiwidHlwZSIsInRleHRDb250ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZmlsZXMiLCJmaWxlIiwibmFtZSIsInN0YXJ0c1dpdGgiLCJFdmVudCIsImRhdGFUcmFuc2ZlciIsIkRhdGFUcmFuc2ZlciIsIml0ZW1zIiwiZXZlbnQiLCJkaXNwYXRjaEV2ZW50Il0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxTQUFXQyxTQUFTQyxpQkFBaUIsaUJBQWlCLEVBQ3REQyxRQUFVRixTQUFTRyxjQUFjLFdBQVcsRUFBNUNELFNBQVVGLFNBQVNHLGNBQWMsa0NBQVksRUFFN0NDLFVBQVdKLFNBQVNHLGNBQWMsbUNBQW1DLEVBQ3JFRSxRQUFZTCxTQUFTRyxjQUFjLGlDQUFBLEVBQ25DRyxnQkFBbUJILFNBQUFBLGNBQ3pCLHlDQUlBLEVBR0NJLFdBQWlCQyxFQUVYQyxXQUFBQSxTQUFBQSxHQUZOLElBR01DLEVBQUFBLEVBQUFBLFFBQXVCRCxhQUFnQixFQUk3Q0UsRUFBa0JBLEVBQVFSLGNB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eEIsSUFBSWtCLENBQUksRUFDM0JSLGdCQUFnQk8sTUFBUUssRUFBYUwsTUFDL0JRLEVBQVEsSUFBSUosTUFBTSxRQUFRLEVBQ2hDWCxnQkFBZ0JnQixjQUFjRCxDQUFLLEVBQ25DZCxxQkFBcUJkLFVBQVVHLElBQUksb0NBQW9DLElBRXZFVyxxQkFBcUJFLFlBQWMsOEJBQ25DRixxQkFBcUJkLFVBQVVILE9BQzlCLG9DQUNELEdBR0gsQ0FBQyIsImZpbGUiOiJmb3JtLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGlucHV0QWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImlucHV0LCB0ZXh0YXJlYVwiKTtcclxuY29uc3QgYnRuU2VuZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLXNlbmRcIik7XHJcblxyXG5jb25zdCBJY29uTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFjdF9faWNvbi1ib3gtaWNvbi1ib3gtbmFtZVwiKTtcclxuY29uc3QgSWNvbkVtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWN0X19pY29uLWJveC1pY29uLWJveC1lbWFpbFwiKTtcclxuY29uc3QgSWNvblRlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFjdF9faWNvbi1ib3gtaWNvbi1ib3gtdGVsXCIpO1xyXG5jb25zdCBJY29uRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFwiLmNvbnRhY3RfX2ljb24tYm94LWljb24tYm94LWRlc2NyaXB0aW9uXCJcclxuKTtcclxuXHJcbmxldCBlcnJvckNvdW50ID0gMDtcclxuXHJcbmNvbnN0IGNsZWFyU3RhdGUgPSAoaW5wdXQpID0+IHtcclxuXHRjb25zdCBpbnB1dEJveCA9IGlucHV0LmNsb3Nlc3QoXCIuaW5wdXRfX2JveFwiKTtcclxuXHRjb25zdCBpbnB1dExhYmVsID0gaW5wdXRCb3gucXVlcnlTZWxlY3RvcihcIi5pbnB1dF9fbGFiZWxcIik7XHJcblx0Y29uc3QgaW5wdXREZXNjcmlwdGlvbiA9IGlucHV0Qm94LnF1ZXJ5U2VsZWN0b3IoXCIuaW5wdXRfX2Rlc2NyaXB0aW9uXCIpO1xyXG5cdGNvbnN0IGlucHV0RGVzY3JpcHRpb25JY29uID0gaW5wdXREZXNjcmlwdGlvbi5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0XCIuaW5wdXRfX2Rlc2NyaXB0aW9uLWljb25cIlxyXG5cdCk7XHJcblxyXG5cdGlucHV0Qm94LmNsYXNzTGlzdC5yZW1vdmUoXCJpbnB1dF9fYm94LS1lcnJvclwiKTtcclxuXHRpbnB1dExhYmVsLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnB1dF9fbGFiZWwtLWVycm9yXCIpO1xyXG5cdGlucHV0RGVzY3JpcHRpb24uY2xhc3NMaXN0LnJlbW92ZShcImlucHV0X19kZXNjcmlwdGlvbi0tZXJyb3JcIik7XHJcblx0aW5wdXREZXNjcmlwdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwiaW5wdXRfX2Rlc2NyaXB0aW9uLS1zdWNjZXNzXCIpO1xyXG5cdGlucHV0RGVzY3JpcHRpb25JY29uLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cInRpIHRpLWV4Y2xhbWF0aW9uLWNpcmNsZVwiPmA7XHJcbn07XHJcblxyXG5jb25zdCBzaG93RXJyb3IgPSAoaW5wdXQpID0+IHtcclxuXHRjb25zdCBpbnB1dEJveCA9IGlucHV0LmNsb3Nlc3QoXCIuaW5wdXRfX2JveFwiKTtcclxuXHRjb25zdCBpbnB1dExhYmVsID0gaW5wdXRCb3gucXVlcnlTZWxlY3RvcihcIi5pbnB1dF9fbGFiZWxcIik7XHJcblx0Y29uc3QgaW5wdXREZXNjcmlwdGlvbiA9IGlucHV0Qm94LnF1ZXJ5U2VsZWN0b3IoXCIuaW5wdXRfX2Rlc2NyaXB0aW9uXCIpO1xyXG5cdGNvbnN0IGlucHV0RGVzY3JpcHRpb25JY29uID0gaW5wdXREZXNjcmlwdGlvbi5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0XCIuaW5wdXRfX2Rlc2NyaXB0aW9uLWljb25cIlxyXG5cdCk7XHJcblxyXG5cdGlucHV0Qm94LmNsYXNzTGlzdC5hZGQoXCJpbnB1dF9fYm94LS1lcnJvclwiKTtcclxuXHRpbnB1dExhYmVsLmNsYXNzTGlzdC5hZGQoXCJpbnB1dF9fbGFiZWwtLWVycm9yXCIpO1xyXG5cdGlucHV0RGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZChcImlucHV0X19kZXNjcmlwdGlvbi0tZXJyb3JcIik7XHJcblx0aW5wdXREZXNjcmlwdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwiaW5wdXRfX2Rlc2NyaXB0aW9uLS1zdWNjZXNzXCIpO1xyXG5cdGlucHV0RGVzY3JpcHRpb25JY29uLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cInRpIHRpLWNpcmNsZS14XCI+YDtcclxufTtcclxuXHJcbmNvbnN0IHNob3dTdWNjZXNzID0gKGlucHV0KSA9PiB7XHJcblx0Y29uc3QgaW5wdXRCb3ggPSBpbnB1dC5jbG9zZXN0KFwiLmlucHV0X19ib3hcIik7XHJcblx0Y29uc3QgaW5wdXRMYWJlbCA9IGlucHV0Qm94LnF1ZXJ5U2VsZWN0b3IoXCIuaW5wdXRfX2xhYmVsXCIpO1xyXG5cdGNvbnN0IGlucHV0RGVzY3JpcHRpb24gPSBpbnB1dEJveC5xdWVyeVNlbGVjdG9yKFwiLmlucHV0X19kZXNjcmlwdGlvblwiKTtcclxuXHRjb25zdCBpbnB1dERlc2NyaXB0aW9uSWNvbiA9IGlucHV0RGVzY3JpcHRpb24ucXVlcnlTZWxlY3RvcihcclxuXHRcdFwiLmlucHV0X19kZXNjcmlwdGlvbi1pY29uXCJcclxuXHQpO1xyXG5cclxuXHRpbnB1dEJveC5jbGFzc0xpc3QucmVtb3ZlKFwiaW5wdXRfX2JveC0tZXJyb3JcIik7XHJcblx0aW5wdXRMYWJlbC5jbGFzc0xpc3QucmVtb3ZlKFwiaW5wdXRfX2xhYmVsLS1lcnJvclwiKTtcclxuXHRpbnB1dERlc2NyaXB0aW9uLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnB1dF9fZGVzY3JpcHRpb24tLWVycm9yXCIpO1xyXG5cdGlucHV0RGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZChcImlucHV0X19kZXNjcmlwdGlvbi0tc3VjY2Vzc1wiKTtcclxuXHRpbnB1dERlc2NyaXB0aW9uSWNvbi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJ0aSB0aS1jaXJjbGUtY2hlY2tcIj5gO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tJbnB1dCA9IChpbnB1dCkgPT4ge1xyXG5cdGlmIChpbnB1dC5pZCA9PT0gXCJuYW1lXCIpIHtcclxuXHRcdGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPCAzKSB7XHJcblx0XHRcdHNob3dFcnJvcihpbnB1dCk7XHJcblx0XHRcdGVycm9yQ291bnQgPSAxO1xyXG5cdFx0XHRJY29uTmFtZS5jbGFzc0xpc3QucmVtb3ZlKFwiY29udGFjdF9faXRlbS1ib3gtaWNvbi1ib3gtLWFjdGl2ZVwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHNob3dTdWNjZXNzKGlucHV0KTtcclxuXHRcdFx0ZXJyb3JDb3VudCA9IDA7XHJcblx0XHRcdEljb25OYW1lLmNsYXNzTGlzdC5hZGQoXCJjb250YWN0X19pdGVtLWJveC1pY29uLWJveC0tYWN0aXZlXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKGlucHV0LmlkID09PSBcImVtYWlsXCIpIHtcclxuXHRcdGNvbnN0IFJlZ0V4RW1haWwgPVxyXG5cdFx0XHQvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8LihcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLDN9KSkkLztcclxuXHJcblx0XHRpZiAoIVJlZ0V4RW1haWwudGVzdChpbnB1dC52YWx1ZSkpIHtcclxuXHRcdFx0c2hvd0Vycm9yKGlucHV0KTtcclxuXHRcdFx0ZXJyb3JDb3VudCA9IDE7XHJcblx0XHRcdEljb25FbWFpbC5jbGFzc0xpc3QucmVtb3ZlKFwiY29udGFjdF9faXRlbS1ib3gtaWNvbi1ib3gtLWFjdGl2ZVwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHNob3dTdWNjZXNzKGlucHV0KTtcclxuXHRcdFx0ZXJyb3JDb3VudCA9IDA7XHJcblx0XHRcdEljb25FbWFpbC5jbGFzc0xpc3QuYWRkKFwiY29udGFjdF9faXRlbS1ib3gtaWNvbi1ib3gtLWFjdGl2ZVwiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGlmIChpbnB1dC5pZCA9PT0gXCJ0ZWxcIikge1xyXG5cdFx0Y29uc3QgUmVnRXhUZWwgPVxyXG5cdFx0XHQvXihcXCs0OHwwMDQ4KT9bXFxzLi1dP1xcKD9cXGR7Mn1cXCk/W1xccy4tXT9cXGR7M31bXFxzLi1dP1xcZHszfVtcXHMuLV0/XFxkezN9JHxeKFxcKzQ4fDAwNDgpP1tcXHMuLV0/XFxkezN9W1xccy4tXT9cXGR7M31bXFxzLi1dP1xcZHszfSQvO1xyXG5cclxuXHRcdGlmICghUmVnRXhUZWwudGVzdChpbnB1dC52YWx1ZSkpIHtcclxuXHRcdFx0c2hvd0Vycm9yKGlucHV0KTtcclxuXHRcdFx0ZXJyb3JDb3VudCA9IDE7XHJcblx0XHRcdEljb25UZWwuY2xhc3NMaXN0LnJlbW92ZShcImNvbnRhY3RfX2l0ZW0tYm94LWljb24tYm94LS1hY3RpdmVcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzaG93U3VjY2VzcyhpbnB1dCk7XHJcblx0XHRcdGVycm9yQ291bnQgPSAwO1xyXG5cdFx0XHRJY29uVGVsLmNsYXNzTGlzdC5hZGQoXCJjb250YWN0X19pdGVtLWJveC1pY29uLWJveC0tYWN0aXZlXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPT0gMCkge1xyXG5cdFx0XHRjbGVhclN0YXRlKGlucHV0KTtcclxuXHRcdFx0ZXJyb3JDb3VudCA9IDA7XHJcblx0XHRcdEljb25UZWwuY2xhc3NMaXN0LmFkZChcImNvbnRhY3RfX2l0ZW0tYm94LWljb24tYm94LS1hY3RpdmVcIik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpZiAoaW5wdXQuaWQgPT09IFwiZGVzY3JpcHRpb25cIikge1xyXG5cdFx0aWYgKGlucHV0LnZhbHVlLnRyaW0oKS5sZW5ndGggPT0gMCkge1xyXG5cdFx0XHRzaG93RXJyb3IoaW5wdXQpO1xyXG5cdFx0XHRlcnJvckNvdW50ID0gMTtcclxuXHRcdFx0SWNvbkRlc2NyaXB0aW9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjb250YWN0X19pdGVtLWJveC1pY29uLWJveC0tYWN0aXZlXCIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c2hvd1N1Y2Nlc3MoaW5wdXQpO1xyXG5cdFx0XHRlcnJvckNvdW50ID0gMDtcclxuXHRcdFx0SWNvbkRlc2NyaXB0aW9uLmNsYXNzTGlzdC5hZGQoXCJjb250YWN0X19pdGVtLWJveC1pY29uLWJveC0tYWN0aXZlXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuXHJcbmlucHV0QWxsLmZvckVhY2goKGlucHV0KSA9PiB7XHJcblx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuXHRcdGNoZWNrSW5wdXQoaW5wdXQpO1xyXG5cdH0pO1xyXG59KTtcclxuXHJcbmJ0blNlbmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRpbnB1dEFsbC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG5cdFx0Y2hlY2tJbnB1dChpbnB1dCk7XHJcblx0fSk7XHJcbn0pO1xyXG5cclxuLy8gSW5wdXQgU2VsZWN0IEZpbGVcclxuXHJcbmNvbnN0IGlucHV0U2VsZWN0RmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJmaWxlXCJdJyk7XHJcbmNvbnN0IGlucHV0U2VsZWN0RmlsZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcIi5pbnB1dF9fZmlsZS1zZWxlY3QtbGFiZWxcIlxyXG4pO1xyXG5cclxuaW5wdXRTZWxlY3RGaWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xyXG5cdGlmIChpbnB1dFNlbGVjdEZpbGUuZmlsZXMubGVuZ3RoID4gMCkge1xyXG5cdFx0Y29uc3QgZmlsZSA9IGlucHV0U2VsZWN0RmlsZS5maWxlc1swXTtcclxuXHRcdGlmIChmaWxlLnR5cGUuc3RhcnRzV2l0aChcImltYWdlL1wiKSkge1xyXG5cdFx0XHRpbnB1dFNlbGVjdEZpbGVMYWJlbC50ZXh0Q29udGVudCA9IGZpbGUubmFtZTtcclxuXHRcdFx0aW5wdXRTZWxlY3RGaWxlTGFiZWwuY2xhc3NMaXN0LmFkZChcImlucHV0X19maWxlLXNlbGVjdC1sYWJlbC0tdXBsb2FkZWRcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbnB1dFNlbGVjdEZpbGVMYWJlbC50ZXh0Q29udGVudCA9IFwiV3liaWVyeiBwbGlrICh0eWxrbyBvYnJhenkpXCI7XHJcblx0XHRcdGlucHV0U2VsZWN0RmlsZS52YWx1ZSA9IFwiXCI7XHJcblx0XHRcdGlucHV0U2VsZWN0RmlsZUxhYmVsLmNsYXNzTGlzdC5yZW1vdmUoXHJcblx0XHRcdFx0XCJpbnB1dF9fZmlsZS1zZWxlY3QtbGFiZWwtLXVwbG9hZGVkXCJcclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHR9IGVsc2Uge1xyXG5cdFx0aW5wdXRTZWxlY3RGaWxlTGFiZWwudGV4dENvbnRlbnQgPSBcIld5YmllcnogcGxpa1wiO1xyXG5cdFx0aW5wdXRTZWxlY3RGaWxlTGFiZWwuY2xhc3NMaXN0LnJlbW92ZShcImlucHV0X19maWxlLXNlbGVjdC1sYWJlbC0tdXBsb2FkZWRcIik7XHJcblx0fVxyXG59KTtcclxuXHJcbmlucHV0U2VsZWN0RmlsZUxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCBmdW5jdGlvbiAoZSkge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdGlucHV0U2VsZWN0RmlsZUxhYmVsLmNsYXNzTGlzdC5hZGQoXCJpbnB1dF9fZmlsZS1zZWxlY3QtbGFiZWwtLWhvdmVyXCIpO1xyXG59KTtcclxuXHJcbmlucHV0U2VsZWN0RmlsZUxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnbGVhdmVcIiwgZnVuY3Rpb24gKGUpIHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRpbnB1dFNlbGVjdEZpbGVMYWJlbC5jbGFzc0xpc3QucmVtb3ZlKFwiaW5wdXRfX2ZpbGUtc2VsZWN0LWxhYmVsLS1ob3ZlclwiKTtcclxufSk7XHJcblxyXG5pbnB1dFNlbGVjdEZpbGVMYWJlbC5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCBmdW5jdGlvbiAoZSkge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdGlucHV0U2VsZWN0RmlsZUxhYmVsLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnB1dF9fZmlsZS1zZWxlY3QtbGFiZWwtLWhvdmVyXCIpO1xyXG5cclxuXHRjb25zdCBmaWxlcyA9IGUuZGF0YVRyYW5zZmVyLmZpbGVzO1xyXG5cdGlmIChmaWxlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRjb25zdCBmaWxlID0gZmlsZXNbMF07XHJcblx0XHRpZiAoZmlsZS50eXBlLnN0YXJ0c1dpdGgoXCJpbWFnZS9cIikpIHtcclxuXHRcdFx0Y29uc3QgZGF0YVRyYW5zZmVyID0gbmV3IERhdGFUcmFuc2ZlcigpO1xyXG5cdFx0XHRkYXRhVHJhbnNmZXIuaXRlbXMuYWRkKGZpbGUpO1xyXG5cdFx0XHRpbnB1dFNlbGVjdEZpbGUuZmlsZXMgPSBkYXRhVHJhbnNmZXIuZmlsZXM7XHJcblx0XHRcdGNvbnN0IGV2ZW50ID0gbmV3IEV2ZW50KFwiY2hhbmdlXCIpO1xyXG5cdFx0XHRpbnB1dFNlbGVjdEZpbGUuZGlzcGF0Y2hFdmVudChldmVudCk7XHJcblx0XHRcdGlucHV0U2VsZWN0RmlsZUxhYmVsLmNsYXNzTGlzdC5hZGQoXCJpbnB1dF9fZmlsZS1zZWxlY3QtbGFiZWwtLXVwbG9hZGVkXCIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aW5wdXRTZWxlY3RGaWxlTGFiZWwudGV4dENvbnRlbnQgPSBcIld5YmllcnogcGxpayAodHlsa28gb2JyYXp5KVwiO1xyXG5cdFx0XHRpbnB1dFNlbGVjdEZpbGVMYWJlbC5jbGFzc0xpc3QucmVtb3ZlKFxyXG5cdFx0XHRcdFwiaW5wdXRfX2ZpbGUtc2VsZWN0LWxhYmVsLS11cGxvYWRlZFwiXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuIl19
